generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "mongodb"
    url      = env("DATABASE_URL")
}

model Dealers {
    id        String     @id @default(cuid()) @map("_id") @db.ObjectId
    name      String
    city      String
    latitude  Float
    longitude Float
    vehicles  Vehicles[]

    @@map("Dealers")
}

model Vehicles {
    id           String     @id @default(cuid()) @map("_id") @db.ObjectId
    manufacturer String
    model        String
    engine_size  String
    features     String[]
    fuel_type    String
    year         Int
    mileage      Int
    price        Int
    dealerId     String?    @db.ObjectId
    accidents    Accident[]
    services     Service[]
    dealer       Dealers?   @relation(fields: [dealerId], references: [id])

    @@map("Vehicles")
}

type Accident {
    accident_id String?
    description String?
    date        String?
    repair_cost Int?
    severity    String?
}

type Service {
    service_id   String?
    date         String?
    type         String?
    service_cost Int?
}
